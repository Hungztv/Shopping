<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A modern e-commerce website">
    <meta name="author" content="Your Name">
    <title>@ViewData["Title"]</title>
    @RenderSection("Styles", required: false)
    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <link href="https://code.jquery.com/ui/1.14.0/themes/base/jquery-ui.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="~/css/site.css" rel="stylesheet">

    <!-- Favicon -->
    <link rel="shortcut icon" href="images/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">
</head>

<body>
    <!-- Header - Optimized -->
    <header id="header" class="header-optimized shadow-sm">
        <!-- Compact Top Bar -->


        <!-- Main Header - All in One -->
        <div class="main-header py-2">
            <div class="container">
                <div class="row align-items-center">
                    <!-- Logo -->
                    <div class="col-lg-2 col-md-3 col-6">
                        <a asp-controller="Home" asp-action="Index" class="logo">
                            <img src="~/images/logo.png" alt="Logo" style="max-height: 40px;">
                        </a>
                    </div>

                    <!-- Main Navigation -->
                    <div class="col-lg-5 d-none d-lg-block">
                        <nav class="main-nav">
                            <ul class="nav-menu">
                                <li><a asp-controller="Home" asp-action="Index">Trang chủ</a></li>
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown">Cửa hàng <i
                                            class="fas fa-chevron-down"></i></a>
                                    <ul class="dropdown-menu shadow-sm border-0 p-2" style="min-width:240px;">
                                        <li><a class="dropdown-item" asp-controller="Product" asp-action="Index"><i
                                                    class="fas fa-boxes"></i> Tất cả sản phẩm</a></li>
                                        <li><a class="dropdown-item" asp-controller="Category" asp-action="Index"><i
                                                    class="fas fa-th-list"></i> Danh mục</a></li>
                                        <li><a class="dropdown-item" asp-controller="Brand" asp-action="Index"><i
                                                    class="fas fa-certificate"></i> Thương hiệu</a></li>
                                    </ul>
                                </li>
                                <li><a href="#">Blog</a></li>
                                <li><a asp-controller="Home" asp-action="Contact">Liên hệ</a></li>
                            </ul>
                        </nav>
                    </div>

                    <!-- Right Section: Search + Actions -->
                    <div class="col-lg-5 col-md-9 col-6">
                        <div class="header-actions">
                            <!-- Search -->
                            <form asp-controller="Product" asp-action="Search" method="post" class="search-form">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Tìm sản phẩm..."
                                        name="searchTerm">
                                    <button class="btn btn-warning" type="submit"><i class="fas fa-search"></i></button>
                                </div>
                            </form>

                            <!-- Action Buttons -->
                            <div class="action-buttons">
                                <a asp-action="Index" asp-controller="Cart" class="btn-icon" title="Giỏ hàng">
                                    <i class="fas fa-shopping-cart"></i>
                                </a>

                                @if (User.Identity?.IsAuthenticated ?? false)
                                {
                                    <div class="dropdown">
                                        <button class="btn-icon dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                            <i class="fas fa-user"></i>
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-end">
                                            <li>
                                                <h6 class="dropdown-header">@User.Identity.Name</h6>
                                            </li>
                                            <li>
                                                <hr class="dropdown-divider">
                                            </li>
                                            <li><a class="dropdown-item" asp-action="History" asp-controller="Account"><i
                                                        class="fas fa-history"></i> Lịch sử đơn hàng</a></li>
                                            <li><a class="dropdown-item" asp-action="UpdateAccount"
                                                    asp-controller="Account"><i class="fas fa-user-edit"></i> Cập nhật thông
                                                    tin</a></li>
                                            <li><a class="dropdown-item" asp-action="Wishlist" asp-controller="Home"><i
                                                        class="fas fa-heart"></i> Yêu thích</a></li>
                                            <li><a class="dropdown-item" asp-action="Compare" asp-controller="Home"><i
                                                        class="fas fa-exchange-alt"></i> So sánh</a></li>
                                            <li>
                                                <hr class="dropdown-divider">
                                            </li>
                                            <li><a class="dropdown-item" asp-controller="Dashboard" asp-action="Index"
                                                    asp-area="Admin"><i class="fas fa-lock"></i> Admin</a></li>
                                            <li><a class="dropdown-item text-danger" asp-action="Logout"
                                                    asp-controller="Account"><i class="fas fa-sign-out-alt"></i> Đăng
                                                    xuất</a></li>
                                        </ul>
                                    </div>
                                }
                                else
                                {
                                    <a asp-action="Login" asp-controller="Account" class="btn btn-sm btn-warning">
                                        <i class="fas fa-sign-in-alt"></i> <span class="d-none d-md-inline">Login</span>
                                    </a>
                                }

                                <!-- Mobile Menu Toggle -->
                                <button class="btn-icon d-lg-none" type="button" data-bs-toggle="offcanvas"
                                    data-bs-target="#mobileMenu">
                                    <i class="fas fa-bars"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Offcanvas -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="mobileMenu">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title">Menu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="mobile-menu">
                    <li><a asp-controller="Home" asp-action="Index"><i class="fas fa-home"></i> Trang chủ</a></li>
                    <li><a href="#"><i class="fas fa-store"></i> Đồ nam</a></li>
                    <li><a href="#"><i class="fas fa-tshirt"></i> Đồ nữ</a></li>
                    <li><a href="#"><i class="fas fa-child"></i> Đồ trẻ em</a></li>
                    <li><a href="#"><i class="fas fa-blog"></i> Blog</a></li>
                    <li><a asp-controller="Home" asp-action="Contact"><i class="fas fa-envelope"></i> Liên hệ</a></li>
                </ul>
            </div>
        </div>
    </header>
    <!-- Main Content -->
    <main>
        <div class="container my-3">
            <partial name="_NotificationPartial" />
            @RenderBody()
        </div>
    </main>

    <!-- Footer -->
    <footer id="footer" class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <h5>Service</h5>
                    <ul class="list-unstyled">
                        <li><a asp-controller="Home" asp-action="Contact" class="text-white">Online Help</a></li>
                        <li><a asp-controller="Home" asp-action="Contact" class="text-white">Contact Us</a></li>
                        <li><a asp-controller="Account" asp-action="History" class="text-white">Order Status</a></li>
                        <li><a href="#" class="text-white">FAQs</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Quick Shop</h5>
                    <ul class="list-unstyled">
                        <li><a asp-controller="Product" asp-action="Index" class="text-white">T-Shirts</a></li>
                        <li><a asp-controller="Product" asp-action="Index" class="text-white">Men</a></li>
                        <li><a asp-controller="Product" asp-action="Index" class="text-white">Women</a></li>
                        <li><a asp-controller="Product" asp-action="Index" class="text-white">Shoes</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Policies</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">Terms of Use</a></li>
                        <li><a href="#" class="text-white">Privacy Policy</a></li>
                        <li><a href="#" class="text-white">Refund Policy</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Stay Updated</h5>
                    <form action="#" class="d-flex">
                        <input type="email" class="form-control me-2" placeholder="Your email">
                        <button type="submit" class="btn btn-warning"><i class="fas fa-arrow-right"></i></button>
                    </form>
                    <p class="mt-2">Get the latest updates from our site.</p>
                </div>
            </div>
            <div class="text-center mt-4 border-top pt-3">
                <p>Copyright © 2025 Phenikaa Inc. All rights reserved. | Designed by <a href="#"
                        class="text-warning">Themeum</a></p>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <a id="scrollUp" style="display: none;">
        <i class="fas fa-arrow-up"></i>
    </a>

    <!-- AI Chatbot Widget -->
    <partial name="_ChatbotWidget" />

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.min.js"></script>
    <script src="~/js/main.js"></script>
    <script src="~/js/custom-optimized.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>