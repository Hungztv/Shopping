@model UserModel
@{
    ViewData["Title"] = "Đăng ký";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section id="signup" class="signup-section">
    <div class="container">
        <div class="row min-vh-80 align-items-center justify-content-center">
            <!-- Signup Card -->
            <div class="col-lg-10">
                <div class="signup-card shadow-lg">
                    <div class="row g-0">
                        <!-- Left Side - Illustration -->
                        <div class="col-md-6 signup-illustration d-none d-md-flex">
                            <div class="illustration-content">
                                <div class="illustration-icon">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <h3 class="text-white fw-bold mb-3">Tạo tài khoản mới!</h3>
                                <p class="text-white-50">Tham gia cùng chúng tôi và khám phá hàng ngàn sản phẩm chất lượng.</p>
                                <div class="features mt-4">
                                    <div class="feature-item">
                                        <i class="fas fa-gift"></i>
                                        <span>Ưu đãi đặc biệt cho thành viên mới</span>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-shipping-fast"></i>
                                        <span>Miễn phí vận chuyển đơn đầu tiên</span>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-star"></i>
                                        <span>Tích điểm mỗi đơn hàng</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Side - Signup Form -->
                        <div class="col-md-6">
                            <div class="signup-form-wrapper">
                                <div class="text-center mb-4">
                                    <div class="signup-icon mb-3">
                                        <i class="fas fa-user-circle"></i>
                                    </div>
                                    <h2 class="fw-bold mb-2">Đăng ký tài khoản</h2>
                                    <p class="text-muted">Điền thông tin để tạo tài khoản mới</p>
                                </div>

                                <div asp-validation-summary="ModelOnly" class="alert alert-danger alert-dismissible fade show" role="alert">
                                    <i class="fas fa-exclamation-circle me-2"></i>
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>

                                <form asp-action="Create" asp-controller="Account" method="post" class="signup-form">
                                    <div class="form-group mb-3">
                                        <label asp-for="UserName" class="form-label fw-semibold">
                                            <i class="fas fa-user me-2 text-primary"></i>Tên đăng nhập
                                        </label>
                                        <input asp-for="UserName" class="form-control form-control-lg" placeholder="Nhập tên đăng nhập" required />
                                        <span asp-validation-for="UserName" class="text-danger small"></span>
                                    </div>

                                    <div class="form-group mb-3">
                                        <label asp-for="Email" class="form-label fw-semibold">
                                            <i class="fas fa-envelope me-2 text-primary"></i>Email
                                        </label>
                                        <input asp-for="Email" type="email" class="form-control form-control-lg" placeholder="Nhập địa chỉ email" required />
                                        <span asp-validation-for="Email" class="text-danger small"></span>
                                    </div>

                                    <div class="form-group mb-3">
                                        <label asp-for="Password" class="form-label fw-semibold">
                                            <i class="fas fa-lock me-2 text-primary"></i>Mật khẩu
                                        </label>
                                        <div class="input-group input-group-lg">
                                            <input asp-for="Password" type="password" class="form-control" placeholder="Nhập mật khẩu" required id="passwordInput" />
                                            <button type="button" class="btn btn-outline-secondary" id="togglePassword">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                        <small class="form-text text-muted">
                                            <i class="fas fa-info-circle"></i> Mật khẩu tối thiểu 6 ký tự
                                        </small>
                                        <span asp-validation-for="Password" class="text-danger small d-block"></span>
                                    </div>

                                    <div class="form-check mb-4">
                                        <input type="checkbox" class="form-check-input" id="agreeTerms" required />
                                        <label class="form-check-label" for="agreeTerms">
                                            Tôi đồng ý với <a href="#" class="text-primary">Điều khoản dịch vụ</a> và <a href="#" class="text-primary">Chính sách bảo mật</a>
                                        </label>
                                    </div>

                                    <button type="submit" class="btn btn-primary btn-lg w-100 mb-3 btn-signup" id="signupButton">
                                        <span id="signupText"><i class="fas fa-user-plus me-2"></i>Đăng ký</span>
                                        <span class="spinner-border spinner-border-sm d-none" id="signupSpinner" role="status"></span>
                                    </button>

                                    <div class="text-center mt-4">
                                        <p class="text-muted mb-0">
                                            Đã có tài khoản? 
                                            <a asp-action="Login" asp-controller="Account" class="text-primary fw-semibold text-decoration-none">
                                                Đăng nhập ngay
                                            </a>
                                        </p>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        $(document).ready(function () {
            // Toggle password visibility
            $("#togglePassword").click(function () {
                var passwordInput = $("#passwordInput");
                var icon = $(this).find("i");
                if (passwordInput.attr("type") === "password") {
                    passwordInput.attr("type", "text");
                    icon.removeClass("fa-eye").addClass("fa-eye-slash");
                } else {
                    passwordInput.attr("type", "password");
                    icon.removeClass("fa-eye-slash").addClass("fa-eye");
                }
            });

            // Show loading spinner on form submit
            $("form").submit(function () {
                $("#signupText").addClass("d-none");
                $("#signupSpinner").removeClass("d-none");
                $("#signupButton").prop("disabled", true);
            });
        });
    </script>
}